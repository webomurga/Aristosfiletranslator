{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wolf3\\\\Desktop\\\\nestjs\\\\my-react-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [fileSelected, setFileSelected] = useState(false);\n  const [name, setName] = useState(''); // State for name input\n  const [file, setFile] = useState(null);\n  const [books, setBooks] = useState([]);\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n    setFileSelected(true);\n  };\n  const handleNameChange = e => {\n    setName(e.target.value); // Update name when input changes\n  };\n  const handleTranslatePdf = async () => {\n    if (!file) return;\n    const formData = new FormData();\n    formData.append('file', file);\n    if (name) {\n      formData.append('name', name); // Append name if provided\n    }\n    try {\n      const response = await axios.post('http://localhost:3000/translate', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      alert(`Translating PDF: ${response.data.message}`);\n    } catch (error) {\n      console.error('Translation failed', error);\n    }\n  };\n  const handleFetchBooks = async () => {\n    const token = localStorage.getItem('token'); // Retrieve token from localStorage\n\n    if (!token) {\n      alert('You need to be logged in to fetch books');\n      return;\n    }\n    try {\n      const response = await axios.get('http://localhost:3000/book', {\n        headers: {\n          Authorization: `Bearer ${token}` // Add Bearer token to the request headers\n        }\n      });\n      setBooks(response.data.book);\n      alert('Books fetched successfully');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      alert(`Failed to fetch books: ${((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Unknown error\"}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Welcome to the Application\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\"\n        // Your other email and password input handlers\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Optional Name\",\n        value: name,\n        onChange: handleNameChange // Handle name input changes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), fileSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleTranslatePdf,\n        children: \"TRANSLATE PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleFetchBooks,\n        children: \"FETCH BOOKS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), books.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Books\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: books.map((book, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: book.title\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"Ai3w0igtGX+Ils/EXUkz36wZqS4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["axios","React","useState","jsxDEV","_jsxDEV","App","_s","fileSelected","setFileSelected","name","setName","file","setFile","books","setBooks","handleFileChange","e","target","files","handleNameChange","value","handleTranslatePdf","formData","FormData","append","response","post","headers","alert","data","message","error","console","handleFetchBooks","token","localStorage","getItem","get","Authorization","book","_error$response","_error$response$data","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","onClick","length","map","index","title","_c","$RefreshReg$"],"sources":["C:/Users/wolf3/Desktop/nestjs/my-react-app/src/App.js"],"sourcesContent":["import axios from 'axios';\nimport React, { useState } from 'react';\n\nconst App = () => {\n  const [fileSelected, setFileSelected] = useState(false);\n  const [name, setName] = useState(''); // State for name input\n  const [file, setFile] = useState(null);\n  const [books, setBooks] = useState([]);\n\n  const handleFileChange = (e) => {\n    setFile(e.target.files[0]);\n    setFileSelected(true);\n  };\n\n  const handleNameChange = (e) => {\n    setName(e.target.value); // Update name when input changes\n  };\n\n  const handleTranslatePdf = async () => {\n    if (!file) return;\n\n    const formData = new FormData();\n    formData.append('file', file);\n\n    if (name) {\n      formData.append('name', name); // Append name if provided\n    }\n\n    try {\n      const response = await axios.post('http://localhost:3000/translate', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      alert(`Translating PDF: ${response.data.message}`);\n    } catch (error) {\n      console.error('Translation failed', error);\n    }\n  };\n\n  const handleFetchBooks = async () => {\n    const token = localStorage.getItem('token');  // Retrieve token from localStorage\n\n    if (!token) {\n      alert('You need to be logged in to fetch books');\n      return;\n    }\n\n    try {\n      const response = await axios.get('http://localhost:3000/book', {\n        headers: {\n          Authorization: `Bearer ${token}`,  // Add Bearer token to the request headers\n        },\n      });\n      setBooks(response.data.book);  \n      alert('Books fetched successfully');\n    } catch (error) {\n      alert(`Failed to fetch books: ${error.response?.data?.message || \"Unknown error\"}`);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Welcome to the Application</h1>\n\n      <div>\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          // Your other email and password input handlers\n        />\n      </div>\n\n      {/* File upload and name input */}\n      <div>\n        <input type=\"file\" onChange={handleFileChange} />\n      </div>\n\n      <div>\n        <input\n          type=\"text\"\n          placeholder=\"Optional Name\"\n          value={name}\n          onChange={handleNameChange} // Handle name input changes\n        />\n      </div>\n\n      {fileSelected && (\n        <div>\n          <button onClick={handleTranslatePdf}>TRANSLATE PDF</button>\n        </div>\n      )}\n\n      {/* Books section */}\n      <div>\n        <button onClick={handleFetchBooks}>FETCH BOOKS</button>\n      </div>\n\n      {books.length > 0 && (\n        <div>\n          <h2>Books</h2>\n          <ul>\n            {books.map((book, index) => (\n              <li key={index}>{book.title}</li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}