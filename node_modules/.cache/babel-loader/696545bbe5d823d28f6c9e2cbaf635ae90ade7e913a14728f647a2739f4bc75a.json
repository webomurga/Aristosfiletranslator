{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\BBBB\\\\src\\\\MainContent.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport axios from 'axios';\nimport * as pdfjsLib from 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.10.38/pdf.min.mjs';\n\n// Set the workerSrc globally (needed for pdf.js to work)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\npdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.10.38/pdf.worker.min.mjs';\nconst MainContent = ({\n  user,\n  setIsLoginModalOpen,\n  showAlert\n}) => {\n  _s();\n  const [file, setFile] = useState(null);\n  const [fileName, setFileName] = useState('');\n  const [fileSelected, setFileSelected] = useState(false);\n  const [languages] = useState([\"English\", \"Spanish\", \"French\", \"German\", \"Italian\", \"Portuguese\", \"Dutch\", \"Russian\", \"Chinese\", \"Japanese\", \"Korean\", \"Turkish\", \"Arabic\", \"Hindi\", \"Bengali\", \"Polish\", \"Swedish\", \"Greek\", \"Hebrew\", \"Thai\", \"Vietnamese\"]);\n  const [isTranslating, setIsTranslating] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [fileUrl, setFileUrl] = useState(null);\n  const [outputLanguage, setOutputLanguage] = useState('');\n  const [isConfirmationModalOpen, setIsConfirmationModalOpen] = useState(false);\n  const [pdfPreviewUrl, setPdfPreviewUrl] = useState(null);\n  const canvasRef = useRef(null);\n  const closeModal = e => {\n    if (e.target.classList.contains(\"confirmation-modal\")) {\n      setIsConfirmationModalOpen(false);\n    }\n  };\n  const handleFileChange = e => {\n    const selectedFile = e.target.files[0];\n    if (selectedFile) {\n      setFile(selectedFile);\n      setFileName(selectedFile.name);\n      setFileSelected(true);\n    } else {\n      showAlert(\"Please select a valid file.\", \"warning\");\n    }\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    const droppedFile = e.dataTransfer.files[0];\n    if (droppedFile) {\n      setFile(droppedFile);\n      setFileName(droppedFile.name);\n      setFileSelected(true);\n    } else {\n      showAlert(\"Please drop a valid file.\", \"warning\");\n    }\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n  };\n  const handleTranslatePdf = async () => {\n    if (!user) {\n      showAlert(\"Please login to translate a file.\", \"danger\");\n      setIsLoginModalOpen(true);\n      return;\n    }\n    if (!file) {\n      showAlert(\"Please select a file to translate.\", \"warning\");\n      return;\n    }\n    if (!outputLanguage) {\n      showAlert(\"Please select an output language.\", \"warning\");\n      return;\n    }\n    if (file) {\n      const fileReader = new FileReader();\n      fileReader.onload = async () => {\n        const typedArray = new Uint8Array(fileReader.result);\n        try {\n          const pdf = await pdfjsLib.getDocument(typedArray).promise;\n          const page = await pdf.getPage(1);\n          const viewport = page.getViewport({\n            scale: 1\n          });\n          const canvas = canvasRef.current;\n          if (!canvas) {\n            console.error(\"Canvas element not found!\");\n            return; // Exit early if canvas is not available\n          }\n          const context = canvas.getContext('2d');\n          canvas.height = viewport.height;\n          canvas.width = viewport.width;\n          const renderContext = {\n            canvasContext: context,\n            viewport: viewport\n          };\n          await page.render(renderContext).promise;\n          setPdfPreviewUrl(canvas.toDataURL());\n          setIsConfirmationModalOpen(true);\n        } catch (error) {\n          console.error(\"Error generating PDF preview:\", error);\n          showAlert(\"Failed to generate PDF preview.\", \"danger\");\n        }\n      };\n      fileReader.readAsArrayBuffer(file);\n    } else {\n      setIsConfirmationModalOpen(true);\n    }\n  };\n  const confirmTranslation = async () => {\n    setIsConfirmationModalOpen(false);\n    setIsTranslating(true);\n    setProgress(0);\n    setFileUrl(null);\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('outputLanguage', outputLanguage);\n    try {\n      const response = await axios.post('http://localhost:3000/pdf/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        responseType: 'json'\n      });\n      if (response.data && response.data.pdfBuffer) {\n        const binaryString = atob(response.data.pdfBuffer);\n        const len = binaryString.length;\n        const bytes = new Uint8Array(len);\n        for (let i = 0; i < len; i++) {\n          bytes[i] = binaryString.charCodeAt(i);\n        }\n        const blob = new Blob([bytes], {\n          type: 'application/pdf'\n        });\n        const url = window.URL.createObjectURL(blob);\n        setFileUrl(url);\n        setIsTranslating(false);\n        showAlert(\"File translated successfully!\", \"success\");\n      } else {\n        throw new Error('Translation response is invalid.');\n      }\n    } catch (error) {\n      showAlert(`Translation failed: ${error.message || 'Please try again later.'}`, \"danger\");\n      setIsTranslating(false);\n    }\n  };\n  const handleDownload = () => {\n    if (fileUrl) {\n      const a = document.createElement('a');\n      a.href = fileUrl;\n      a.download = 'translated.pdf';\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    } else {\n      showAlert(\"No translated file available for download.\", \"warning\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"translate-title\",\n      children: \"Instantly Translate a Document\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-section\",\n      onDrop: handleDrop,\n      onDragOver: handleDragOver,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"fileInput\",\n        onChange: handleFileChange,\n        hidden: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"fileInput\",\n        className: \"upload-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"upload-icon\",\n          children: \"\\u2601\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Drag and Drop here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), fileSelected && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"file-name\",\n        children: `File selected: ${fileName}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"language-selection\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Input Language:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"auto\",\n          children: \"Auto Detect\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), languages.map((lang, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: lang,\n          children: lang\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Output Language:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: e => setOutputLanguage(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select Language\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), languages.map((lang, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: lang,\n          children: lang\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"translate-button\",\n      children: [!isTranslating && !fileUrl && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleTranslatePdf,\n        children: \"Translate Now!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 40\n      }, this), isTranslating && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress\",\n          style: {\n            width: `${progress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this), fileUrl && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDownload,\n        className: \"download-btn\",\n        children: \"Download Translated File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), isConfirmationModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"confirmation-modal\",\n      onClick: closeModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"confirmation-modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \" Please approve the translation.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-margin\",\n          children: \"Here's a 1-page preview of your document.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pdf-preview-container\",\n          children: pdfPreviewUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: pdfPreviewUrl,\n            alt: \"PDF Preview\",\n            style: {\n              maxWidth: '100%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 35\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"File name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 20\n            }, this), \" \", fileName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Translation Language:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 24\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"no-margin\",\n                children: outputLanguage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Credit for this translation:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 24\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"no-margin\",\n                children: \"132\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"credit-info\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              textAlign: 'justify'\n            },\n            children: \"\\u26A0\\uFE0F If you approve the translation, the amount above will be deducted from your credit, if any. If you close the page or log out before the translation is completed, your calculated credit will not be refunded.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"confirm-btn\",\n          onClick: confirmTranslation,\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"supported-formats\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"no-margin\",\n        children: \"Supported formats:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"format-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"format pdf\",\n          children: \"PDF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"format docx\",\n          children: \"DOCX\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"format txt\",\n          children: \"TXT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"format pptx\",\n          children: \"PPTX\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n          .main-content { padding: 40px; background: #fcfcfa; }\n          .translate-title { margin-top: 20px; }\n          .upload-section { text-align: center; margin: 40px 0; }\n          .upload-box { \n            display: inline-block; \n            border: 3px dashed black; \n            padding: 40px; \n            cursor: pointer; \n            font-size: 18px; \n            transition: box-shadow 0.3s ease;\n          }\n          .upload-box:hover {\n            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n          }\n          .upload-icon { font-size: 50px; }\n          .language-selection { display: flex; justify-content: center; align-items: center; gap: 20px; margin-top: 30px; font-size: 18px; }\n          select { padding: 8px; font-size: 16px; background: #ddd; border: none; transition: box-shadow 0.3s ease; }\n          select:hover {\n            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n          }\n          .translate-button { text-align: center; margin-top: 30px; }\n          .translate-button button, .download-btn { \n            background: #008b8b; \n            color: white; \n            padding: 12px 25px; \n            border: none; \n            cursor: pointer; \n            font-size: 18px; \n            border-radius: 5px; \n            box-shadow: 5px 5px 0px #69a5a5; \n            text-decoration: none; \n            display: inline-block;\n            transition: box-shadow 0.3s ease;\n          }\n          .translate-button button:hover, .download-btn:hover {\n            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n          }\n          .progress-bar { width: 100%; height: 20px; background: #ddd; border-radius: 10px; margin-top: 10px; overflow: hidden; }\n          .progress { height: 100%; background: #008b8b; transition: width 0.5s ease; }\n          .supported-formats { position: absolute; bottom: 20px; right: 20px; text-align: left; font-size: 16px; font-style: italic;}\n          .format-container { display: flex; align-items: center; gap: 10px; }\n          .format { display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; border-radius: 5px; color: white; font-size: 14px; font-weight: bold; }\n          .format:hover {\n            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);\n          }\n          .no-margin { margin: -2px auto 8px auto !important; }\n          .pdf { background: red; }\n          .docx { background: blue; }\n          .txt { background: black; }\n          .pptx { background: orange; }\n          .file-name {\n            margin-top: 15px;\n            color: #333;\n            font-size: 16px;\n            opacity: 1;\n            transition: opacity 0.5s ease-in-out;\n          }\n          .confirmation-modal {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background-color: rgba(0, 0, 0, 0.5);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            z-index: 1000;\n          }\n\n          .confirmation-modal-content {\n            background-color: #fff;\n            padding: 20px;\n            border-radius: 8px;\n            width: 500px;\n            position: relative;\n            text-align: center;\n            animation: fadeIn 0.5s ease-out, slideUp 0.5s ease-out;\n          }\n\n          .close {\n            position: absolute;\n            right: 10px;\n            top: 5px;\n            font-size: 28px;\n            font-weight: bold;\n            cursor: pointer;\n          }\n\n          .file-info p {\n            margin-bottom: 5px;\n          }\n\n          .credit-info {\n            background-color: #f0f0f0;\n            padding: 2px 15px;\n            border-radius: 5px;\n            margin-bottom: 20px;\n          }\n\n          .confirm-btn {\n            background-color: #008b8b;\n            color: white;\n            padding: 12px 25px;\n            border: none;\n            border-radius: 5px;\n            cursor: pointer;\n            font-size: 16px;\n          }\n          \n          .pdf-preview-container {\n            width: 100%;\n            height: 200px; /* Set the height to make it scrollable */\n            overflow-y: auto; /* Make the content scrollable vertically */\n            padding: 10px;\n          }\n          \n          canvas {\n            display: block;\n            margin: 0 auto; /* Center the canvas */\n            width: 100%; /* Fit the width of the container */\n          }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 5\n  }, this);\n};\n_s(MainContent, \"wi6CgVjH5fXid2QJnOWXKCZLD0I=\");\n_c = MainContent;\nexport default MainContent;\nvar _c;\n$RefreshReg$(_c, \"MainContent\");","map":{"version":3,"names":["React","useState","useRef","axios","pdfjsLib","jsxDEV","_jsxDEV","GlobalWorkerOptions","workerSrc","MainContent","user","setIsLoginModalOpen","showAlert","_s","file","setFile","fileName","setFileName","fileSelected","setFileSelected","languages","isTranslating","setIsTranslating","progress","setProgress","fileUrl","setFileUrl","outputLanguage","setOutputLanguage","isConfirmationModalOpen","setIsConfirmationModalOpen","pdfPreviewUrl","setPdfPreviewUrl","canvasRef","closeModal","e","target","classList","contains","handleFileChange","selectedFile","files","name","handleDrop","preventDefault","droppedFile","dataTransfer","handleDragOver","handleTranslatePdf","fileReader","FileReader","onload","typedArray","Uint8Array","result","pdf","getDocument","promise","page","getPage","viewport","getViewport","scale","canvas","current","console","error","context","getContext","height","width","renderContext","canvasContext","render","toDataURL","readAsArrayBuffer","confirmTranslation","formData","FormData","append","response","post","headers","responseType","data","pdfBuffer","binaryString","atob","len","length","bytes","i","charCodeAt","blob","Blob","type","url","window","URL","createObjectURL","Error","message","handleDownload","a","document","createElement","href","download","body","appendChild","click","removeChild","className","children","_jsxFileName","lineNumber","columnNumber","onDrop","onDragOver","id","onChange","hidden","htmlFor","value","map","lang","index","onClick","style","src","alt","maxWidth","display","justifyContent","textAlign","ref","_c","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/BBBB/src/MainContent.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport axios from 'axios';\n\nimport * as pdfjsLib from 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.10.38/pdf.min.mjs';\n\n// Set the workerSrc globally (needed for pdf.js to work)\npdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.10.38/pdf.worker.min.mjs';\n\nconst MainContent = ({ user, setIsLoginModalOpen, showAlert }) => {\n  const [file, setFile] = useState(null);\n  const [fileName, setFileName] = useState('');\n  const [fileSelected, setFileSelected] = useState(false);\n  const [languages] = useState([\n    \"English\", \"Spanish\", \"French\", \"German\", \"Italian\", \"Portuguese\", \"Dutch\", \"Russian\", \"Chinese\", \"Japanese\", \"Korean\", \"Turkish\", \"Arabic\", \"Hindi\", \"Bengali\", \"Polish\", \"Swedish\", \"Greek\", \"Hebrew\", \"Thai\", \"Vietnamese\"\n  ]);\n\n  const [isTranslating, setIsTranslating] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [fileUrl, setFileUrl] = useState(null);\n  const [outputLanguage, setOutputLanguage] = useState('');\n  const [isConfirmationModalOpen, setIsConfirmationModalOpen] = useState(false);\n  const [pdfPreviewUrl, setPdfPreviewUrl] = useState(null);\n  const canvasRef = useRef(null);\n\n  const closeModal = (e) => {\n    if (e.target.classList.contains(\"confirmation-modal\")) {\n      setIsConfirmationModalOpen(false);\n    }\n  };\n\n  const handleFileChange = (e) => {\n    const selectedFile = e.target.files[0];\n    if (selectedFile) {\n      setFile(selectedFile);\n      setFileName(selectedFile.name);\n      setFileSelected(true);\n    } else {\n      showAlert(\"Please select a valid file.\", \"warning\");\n    }\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    const droppedFile = e.dataTransfer.files[0];\n    if (droppedFile) {\n      setFile(droppedFile);\n      setFileName(droppedFile.name);\n      setFileSelected(true);\n    } else {\n      showAlert(\"Please drop a valid file.\", \"warning\");\n    }\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n  };\n\n  const handleTranslatePdf = async () => {\n    if (!user) {\n      showAlert(\"Please login to translate a file.\", \"danger\");\n      setIsLoginModalOpen(true);\n      return;\n    }\n\n    if (!file) {\n      showAlert(\"Please select a file to translate.\", \"warning\");\n      return;\n    }\n\n    if (!outputLanguage) {\n      showAlert(\"Please select an output language.\", \"warning\");\n      return;\n    }\n\n    if (file) {\n      const fileReader = new FileReader();\n      fileReader.onload = async () => {\n        const typedArray = new Uint8Array(fileReader.result);\n        try {\n          const pdf = await pdfjsLib.getDocument(typedArray).promise;\n          const page = await pdf.getPage(1);\n\n          const viewport = page.getViewport({ scale: 1 });\n          const canvas = canvasRef.current;\n\n          if (!canvas) {\n            console.error(\"Canvas element not found!\");\n            return; // Exit early if canvas is not available\n          }\n\n          const context = canvas.getContext('2d');\n          canvas.height = viewport.height;\n          canvas.width = viewport.width;\n\n          const renderContext = {\n            canvasContext: context,\n            viewport: viewport,\n          };\n          await page.render(renderContext).promise;\n\n          setPdfPreviewUrl(canvas.toDataURL());\n          setIsConfirmationModalOpen(true);\n        } catch (error) {\n          console.error(\"Error generating PDF preview:\", error);\n          showAlert(\"Failed to generate PDF preview.\", \"danger\");\n        }\n      };\n      fileReader.readAsArrayBuffer(file);\n    } else {\n      setIsConfirmationModalOpen(true);\n    }\n  };\n\n  const confirmTranslation = async () => {\n    setIsConfirmationModalOpen(false);\n\n    setIsTranslating(true);\n    setProgress(0);\n    setFileUrl(null);\n\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('outputLanguage', outputLanguage);\n\n    try {\n      const response = await axios.post('http://localhost:3000/pdf/upload', formData, {\n        headers: { 'Content-Type': 'multipart/form-data' },\n        responseType: 'json',\n      });\n\n      if (response.data && response.data.pdfBuffer) {\n        const binaryString = atob(response.data.pdfBuffer);\n        const len = binaryString.length;\n        const bytes = new Uint8Array(len);\n        for (let i = 0; i < len; i++) {\n          bytes[i] = binaryString.charCodeAt(i);\n        }\n\n        const blob = new Blob([bytes], { type: 'application/pdf' });\n        const url = window.URL.createObjectURL(blob);\n        setFileUrl(url);\n\n        setIsTranslating(false);\n        showAlert(\"File translated successfully!\", \"success\");\n      } else {\n        throw new Error('Translation response is invalid.');\n      }\n    } catch (error) {\n      showAlert(`Translation failed: ${error.message || 'Please try again later.'}`, \"danger\");\n      setIsTranslating(false);\n    }\n  };\n\n  const handleDownload = () => {\n    if (fileUrl) {\n      const a = document.createElement('a');\n      a.href = fileUrl;\n      a.download = 'translated.pdf';\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    } else {\n      showAlert(\"No translated file available for download.\", \"warning\");\n    }\n  };\n\n  return (\n    <div className=\"main-content\">\n      <h2 className=\"translate-title\">Instantly Translate a Document</h2>\n      <div\n        className=\"upload-section\"\n        onDrop={handleDrop}\n        onDragOver={handleDragOver}\n      >\n        <input type=\"file\" id=\"fileInput\" onChange={handleFileChange} hidden />\n        <label htmlFor=\"fileInput\" className=\"upload-box\">\n          <span className=\"upload-icon\">☁️</span>\n          <p>Drag and Drop here</p>\n        </label>\n        {fileSelected && <p className=\"file-name\">{`File selected: ${fileName}`}</p>}\n      </div>\n\n      <div className=\"language-selection\">\n        <label>Input Language:</label>\n        <select>\n          <option value=\"auto\">Auto Detect</option>\n          {languages.map((lang, index) => (\n            <option key={index} value={lang}>{lang}</option>\n          ))}\n        </select>\n        <label>Output Language:</label>\n        <select onChange={(e) => setOutputLanguage(e.target.value)}>\n          <option value=\"\">Select Language</option>\n          {languages.map((lang, index) => (\n            <option key={index} value={lang}>{lang}</option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"translate-button\">\n        {!isTranslating && !fileUrl && <button onClick={handleTranslatePdf}>Translate Now!</button>}\n        {isTranslating && (\n          <div className=\"progress-bar\">\n            <div className=\"progress\" style={{ width: `${progress}%` }}></div>\n          </div>\n        )}\n        {fileUrl && (\n          <button onClick={handleDownload} className=\"download-btn\">Download Translated File</button>\n        )}\n      </div>\n\n      {isConfirmationModalOpen && (\n        <div className=\"confirmation-modal\" onClick={closeModal}>\n          <div className=\"confirmation-modal-content\">\n            {/*<span className=\"close\" onClick={() => setIsConfirmationModalOpen(false)}>&times;</span>*/}\n            <h2> Please approve the translation.</h2>\n            <p className='no-margin'>Here's a 1-page preview of your document.</p>\n              <div className=\"pdf-preview-container\">\n                {pdfPreviewUrl && <img src={pdfPreviewUrl} alt=\"PDF Preview\" style={{ maxWidth: '100%' }} />}\n              </div>\n              <div className=\"file-info\">\n                <p><strong>File name:</strong> {fileName}</p> \n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                  <div>\n                    <p><strong>Translation Language:</strong></p>\n                    <p className='no-margin'>{outputLanguage}</p> \n                  </div>\n                  <div>\n                    <p><strong>Credit for this translation:</strong></p>\n                    <p className='no-margin'>132</p>\n                  </div>\n                </div>\n              </div>\n            <br></br>\n            <div className=\"credit-info\">\n              <p style={{ textAlign: 'justify' }}>\n                ⚠️ If you approve the translation, the amount above will be deducted from your credit, if any. If you close the page or log out before the translation is completed, your calculated credit will not be refunded.\n              </p>\n            </div>\n\n            <button className=\"confirm-btn\" onClick={confirmTranslation}>Confirm</button>\n          </div>\n        </div>\n      )}\n\n      <canvas ref={canvasRef} style={{ display: 'none' }} />\n\n      <div className=\"supported-formats\">\n        <p className='no-margin'>Supported formats:</p>\n        <div className=\"format-container\">\n          <span className=\"format pdf\">PDF</span>\n          <span className=\"format docx\">DOCX</span>\n          <span className=\"format txt\">TXT</span>\n          <span className=\"format pptx\">PPTX</span>\n        </div>\n      </div>\n\n      <style>\n        {`\n          .main-content { padding: 40px; background: #fcfcfa; }\n          .translate-title { margin-top: 20px; }\n          .upload-section { text-align: center; margin: 40px 0; }\n          .upload-box { \n            display: inline-block; \n            border: 3px dashed black; \n            padding: 40px; \n            cursor: pointer; \n            font-size: 18px; \n            transition: box-shadow 0.3s ease;\n          }\n          .upload-box:hover {\n            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n          }\n          .upload-icon { font-size: 50px; }\n          .language-selection { display: flex; justify-content: center; align-items: center; gap: 20px; margin-top: 30px; font-size: 18px; }\n          select { padding: 8px; font-size: 16px; background: #ddd; border: none; transition: box-shadow 0.3s ease; }\n          select:hover {\n            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n          }\n          .translate-button { text-align: center; margin-top: 30px; }\n          .translate-button button, .download-btn { \n            background: #008b8b; \n            color: white; \n            padding: 12px 25px; \n            border: none; \n            cursor: pointer; \n            font-size: 18px; \n            border-radius: 5px; \n            box-shadow: 5px 5px 0px #69a5a5; \n            text-decoration: none; \n            display: inline-block;\n            transition: box-shadow 0.3s ease;\n          }\n          .translate-button button:hover, .download-btn:hover {\n            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n          }\n          .progress-bar { width: 100%; height: 20px; background: #ddd; border-radius: 10px; margin-top: 10px; overflow: hidden; }\n          .progress { height: 100%; background: #008b8b; transition: width 0.5s ease; }\n          .supported-formats { position: absolute; bottom: 20px; right: 20px; text-align: left; font-size: 16px; font-style: italic;}\n          .format-container { display: flex; align-items: center; gap: 10px; }\n          .format { display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; border-radius: 5px; color: white; font-size: 14px; font-weight: bold; }\n          .format:hover {\n            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);\n          }\n          .no-margin { margin: -2px auto 8px auto !important; }\n          .pdf { background: red; }\n          .docx { background: blue; }\n          .txt { background: black; }\n          .pptx { background: orange; }\n          .file-name {\n            margin-top: 15px;\n            color: #333;\n            font-size: 16px;\n            opacity: 1;\n            transition: opacity 0.5s ease-in-out;\n          }\n          .confirmation-modal {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background-color: rgba(0, 0, 0, 0.5);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            z-index: 1000;\n          }\n\n          .confirmation-modal-content {\n            background-color: #fff;\n            padding: 20px;\n            border-radius: 8px;\n            width: 500px;\n            position: relative;\n            text-align: center;\n            animation: fadeIn 0.5s ease-out, slideUp 0.5s ease-out;\n          }\n\n          .close {\n            position: absolute;\n            right: 10px;\n            top: 5px;\n            font-size: 28px;\n            font-weight: bold;\n            cursor: pointer;\n          }\n\n          .file-info p {\n            margin-bottom: 5px;\n          }\n\n          .credit-info {\n            background-color: #f0f0f0;\n            padding: 2px 15px;\n            border-radius: 5px;\n            margin-bottom: 20px;\n          }\n\n          .confirm-btn {\n            background-color: #008b8b;\n            color: white;\n            padding: 12px 25px;\n            border: none;\n            border-radius: 5px;\n            cursor: pointer;\n            font-size: 16px;\n          }\n          \n          .pdf-preview-container {\n            width: 100%;\n            height: 200px; /* Set the height to make it scrollable */\n            overflow-y: auto; /* Make the content scrollable vertically */\n            padding: 10px;\n          }\n          \n          canvas {\n            display: block;\n            margin: 0 auto; /* Center the canvas */\n            width: 100%; /* Fit the width of the container */\n          }\n        `}\n      </style>\n    </div>\n  );\n};\n\nexport default MainContent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}